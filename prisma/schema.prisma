datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model Produtos {
  id         Int       @id @default(autoincrement())
  subtitle   String
  title      String
  subtitle2  String
  price      String
  promotion  Decimal
  base_url   String
  categorias Categorias[] @relation("ProdutoCategoria")
  estoque    Estoque[]  @relation("ProdutoEstoque") // Adicionando relação oposta
}

model Usuarios {
  id       Int      @id @default(autoincrement())
  nome     String
  cpf      String
  telefone String
  email    String
  password String
  pedidos  Pedidos[]
}

model Estoque {
  id         Int      @id @default(autoincrement())
  nome       String
  quantidade Int
  produto_id Int
  produto    Produtos @relation(fields: [produto_id], references: [id], name: "ProdutoEstoque") // Nomeando a relação
}

model Pedidos {
  id             Int       @id @default(autoincrement())
  vendedor       String
  cliente        String
  formapagamento String
  valorpedido    Decimal
  deleted        Boolean
  usuario_id     Int
  usuario        Usuarios @relation(fields: [usuario_id], references: [id])
}

model Categorias {
  id       Int       @id @default(autoincrement())
  nome     String
  produtos Produtos[] @relation("ProdutoCategoria")
}
